<p>This post is transferred from my <a href="http://blogpengyin.herokuapp.com/">old Hexo blog site</a>, created on 2014.</p>
<p>You need a google account to use Google Custom Search Engine. Go to "www.google.com/cse" and sign in with your Google account.
images/posts/google_cse.PNG </p>
<p>In the console, click "New search engine" on left menu, then input the website url you want to search from. You also need a name for this new search engine. After finsih setup, click "CREATE" button.
images/posts/google_cse_create.PNG </p>
<p>You need to use <code>Search Engine ID</code> for creating RESTful service. To do this, select "Edit search engine" on left menu. In the dropdown, select your search engine. Select "Basics" panel on right, then click "Search engine ID" in details part. A pop up box will appears with your Search Engine ID.
images/posts/google_cse_id.PNG </p>
<p>You also need your api key for creating RESTful service. To do this, you need a project and get its API key in <em>Google Developers Console</em>. You can do this by log in "console.developers.google.com" and select "Credentials" in "APIs &amp; auth" menu. You will see API key appearing on right panel.</p>
<p>Then go back to your Custom Search panel. In "Details" part on right, click "Get Code" button (just near "Search Engine ID" button). Copy the code on this page and paste it into a '<div>' where you want the Google search bar appears.</p>
<p>You may want to use RESTful api to get results from Google custom search engine. The format of requested url is: <code>https://www.googleapis.com/customsearch/v1?key=XXX&amp;cx=XXX&amp;q=XXX</code>. You should put your API key as <code>key</code> parameter, your search engine Id as <code>cx</code> paramter, and the string your want to search as <code>q</code> parameter.</p>
<p>You can also add query parameters at the end of request url, such as <code>&amp;callback=</code> for returning <code>JSON-P</code> object. Please refer to "https://developers.google.com/custom-search/json-api/v1/using_rest" if you need</p>
<p>Here is an example using AngularJS:</p>
<pre class="code literal-block"><span></span><span class="c1">//We want to search &quot;javascript&quot; using Custom Search Engine</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.googleapis.com/customsearch/v1?key=XXX&amp;cx=XXX&amp;q=javascript&amp;callback=JSON_CALLBACK&#39;</span><span class="p">;</span>
        <span class="nx">$http</span><span class="p">.</span><span class="nx">jsonp</span><span class="p">(</span><span class="nx">url</span><span class="p">).</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">headers</span><span class="p">,</span> <span class="nx">config</span><span class="p">){</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;callback&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="s2">&quot;&lt;br/&gt;&quot;</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">htmlTitle</span><span class="p">;</span>
                <span class="c1">//This will return all searchign result&#39;s title</span>
              <span class="p">}</span>
        <span class="p">})</span>
       <span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">headers</span><span class="p">,</span> <span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;error: &quot;</span> <span class="o">+</span> <span class="nx">data</span> <span class="o">+</span> <span class="s2">&quot; status: &quot;</span> <span class="o">+</span> <span class="nx">status</span> <span class="o">+</span> <span class="s2">&quot; headers: &quot;</span> <span class="o">+</span> <span class="nx">headers</span> <span class="o">+</span> <span class="s2">&quot; config: &quot;</span> <span class="o">+</span> <span class="nx">config</span><span class="p">);</span>
        <span class="p">});</span>
</pre>